<Window x:Class="TheEyeOfCthulhu.Lab.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:eye="clr-namespace:TheEyeOfCthulhu.WPF.Controls;assembly=TheEyeOfCthulhu.WPF"
        Title="ðŸ‘ï¸ The Eye of Cthulhu - Lab" 
        Height="720" Width="1100"
        WindowStartupLocation="CenterScreen"
        Background="#1E1E1E">
    
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*" />
            <ColumnDefinition Width="280" />
        </Grid.ColumnDefinitions>
        
        <!-- Zone vidÃ©o principale -->
        <Border Grid.Column="0" 
                Margin="10" 
                BorderBrush="#3F3F3F" 
                BorderThickness="1"
                CornerRadius="4">
            <eye:VisionView x:Name="VisionView" 
                            ShowInfo="True"
                            ImageClicked="VisionView_ImageClicked" />
        </Border>
        
        <!-- Panneau de contrÃ´le -->
        <Border Grid.Column="1" 
                Margin="0,10,10,10" 
                Background="#2D2D2D" 
                BorderBrush="#3F3F3F" 
                BorderThickness="1"
                CornerRadius="4">
            <ScrollViewer VerticalScrollBarVisibility="Auto">
                <StackPanel Margin="15">
                    
                    <!-- Source Selection -->
                    <TextBlock Text="VIDEO SOURCE" 
                               Foreground="#888" 
                               FontWeight="Bold" 
                               Margin="0,0,0,10" />
                    
                    <ComboBox x:Name="SourceComboBox" 
                              SelectionChanged="SourceComboBox_SelectionChanged"
                              Margin="0,0,0,10">
                        <ComboBoxItem Content="DroidCam" IsSelected="True" />
                        <ComboBoxItem Content="Webcam" />
                    </ComboBox>
                    
                    <!-- DroidCam Settings -->
                    <StackPanel x:Name="DroidCamPanel">
                        <TextBlock Text="IP Address" Foreground="#CCC" Margin="0,0,0,4" />
                        <TextBox x:Name="IpTextBox" Text="192.168.1.57" Margin="0,0,0,10" />
                        
                        <TextBlock Text="Port" Foreground="#CCC" Margin="0,0,0,4" />
                        <TextBox x:Name="PortTextBox" Text="4747" Margin="0,0,0,10" />
                    </StackPanel>
                    
                    <!-- Webcam Settings -->
                    <StackPanel x:Name="WebcamPanel" Visibility="Collapsed">
                        <TextBlock Text="Device Index" Foreground="#CCC" Margin="0,0,0,4" />
                        <TextBox x:Name="WebcamIndexTextBox" Text="0" Margin="0,0,0,10" />
                    </StackPanel>
                    
                    <!-- Controls -->
                    <Grid Margin="0,10,0,10">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>
                        
                        <Button x:Name="StartButton" 
                                Content="â–¶ Start" 
                                Grid.Column="0" 
                                Margin="0,0,5,0"
                                Padding="10,8"
                                Click="StartButton_Click"
                                Background="#0E7A0D"
                                Foreground="White" />
                        
                        <Button x:Name="StopButton" 
                                Content="â¬› Stop" 
                                Grid.Column="1" 
                                Margin="5,0,0,0"
                                Padding="10,8"
                                Click="StopButton_Click"
                                IsEnabled="False"
                                Background="#C42B1C"
                                Foreground="White" />
                    </Grid>
                    
                    <Button x:Name="SnapshotButton" 
                            Content="ðŸ“¸ Snapshot" 
                            Margin="0,0,0,10"
                            Padding="10,8"
                            Click="SnapshotButton_Click"
                            IsEnabled="False" />
                    
                    <Separator Margin="0,10" Background="#3F3F3F" />
                    
                    <!-- Processing Pipeline -->
                    <TextBlock Text="PROCESSING PIPELINE" 
                               Foreground="#888" 
                               FontWeight="Bold" 
                               Margin="0,0,0,10" />
                    
                    <CheckBox x:Name="EnablePipelineCheckBox" 
                              Content="Enable Processing" 
                              Foreground="#CCC"
                              Margin="0,0,0,10"
                              Checked="EnablePipelineCheckBox_Changed"
                              Unchecked="EnablePipelineCheckBox_Changed" />
                    
                    <StackPanel x:Name="ProcessorsPanel" Margin="10,0,0,0">
                        <CheckBox x:Name="GrayscaleCheckBox" Content="Grayscale" Foreground="#CCC" IsChecked="True" Margin="0,4" Click="ProcessorCheckBox_Click" />
                        <CheckBox x:Name="BlurCheckBox" Content="Gaussian Blur" Foreground="#CCC" IsChecked="True" Margin="0,4" Click="ProcessorCheckBox_Click" />
                        <CheckBox x:Name="ThresholdCheckBox" Content="Threshold (Otsu)" Foreground="#CCC" IsChecked="True" Margin="0,4" Click="ProcessorCheckBox_Click" />
                        <CheckBox x:Name="CannyCheckBox" Content="Canny Edge" Foreground="#CCC" IsChecked="True" Margin="0,4" Click="ProcessorCheckBox_Click" />
                        <CheckBox x:Name="ContoursCheckBox" Content="Contour Detection" Foreground="#CCC" IsChecked="True" Margin="0,4" Click="ProcessorCheckBox_Click" />
                    </StackPanel>
                    
                    <Separator Margin="0,15" Background="#3F3F3F" />
                    
                    <!-- Info -->
                    <TextBlock Text="INFO" 
                               Foreground="#888" 
                               FontWeight="Bold" 
                               Margin="0,0,0,10" />
                    
                    <TextBlock x:Name="ClickInfoText" 
                               Text="Click on image to get coordinates" 
                               Foreground="#666"
                               TextWrapping="Wrap"
                               FontSize="11" />
                    
                    <TextBlock x:Name="ProcessingInfoText" 
                               Text="" 
                               Foreground="#0A0"
                               TextWrapping="Wrap"
                               FontSize="11"
                               Margin="0,10,0,0" />
                    
                </StackPanel>
            </ScrollViewer>
        </Border>
    </Grid>
</Window>
